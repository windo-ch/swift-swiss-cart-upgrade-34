
import React from 'react';
import { useNavigate } from 'react-router-dom';

// Zurich's official district ("Kreis") names for labeling:
const kreisLabels = [
  { id: 1, label: "1" }, { id: 2, label: "2" }, { id: 3, label: "3" },
  { id: 4, label: "4" }, { id: 5, label: "5" }, { id: 6, label: "6" },
  { id: 7, label: "7" }, { id: 8, label: "8" }, { id: 9, label: "9" },
  { id: 10, label: "10" }, { id: 11, label: "11" }, { id: 12, label: "12" },
];

const kreisFeatures = [
  {
    id: 1,
    name: 'Kreis 1',
    d: 'M339.911 274.715C348.108 276.159 354.873 280.801 363.728 279.955C367.336 279.602 370.392 277.361 372.29 274.246C374.644 270.523 375.569 265.439 374.913 260.823C374.143 255.372 369.557 248.035 364.455 246.05C360.849 244.664 356.506 244.594 353.334 247.521C350.07 250.537 345.818 251.646 343.125 255.167C340.011 259.265 334.949 263.475 335.456 268.892C335.762 272.12 337.221 274.097 339.911 274.715Z'
  },
  {
    id: 2,
    name: 'Kreis 2',
    d: 'M342.351 315.156C347.684 315.074 353.176 316.681 358.182 317.278C364.504 318.037 374.314 316.986 378.714 313.492C383.118 309.997 385.378 304.577 384.404 299.537C383.492 294.899 378.725 287.466 374.395 287.032C370.923 286.697 368.13 290.14 364.886 291.043C362.113 291.831 358.469 291.378 355.441 293.045C350.987 295.624 351.227 301.803 346.784 303.396C344.342 304.166 341.595 304.573 339.106 305.643C336.25 306.86 336.739 309.991 338.324 312.068C339.51 313.671 340.927 315.183 342.351 315.156Z'
  },
  {
    id: 3,
    name: 'Kreis 3',
    d: 'M301.586 346.472C306.265 346.185 311.888 339.58 316.047 336.446C319.611 333.791 320.769 327.666 325.069 328.973C331.63 330.943 340.728 339.903 340.801 344.416C340.859 348.07 333.93 349.875 330.813 352.487C327.571 355.195 323.375 356.701 320.386 360.131C317.867 363.051 317.432 367.797 314.463 370.398C312.247 372.386 308.988 372.487 306.248 372.959C302.979 373.547 300.798 369.825 299.008 367.81C296.091 364.354 297.757 359.704 299.346 355.792C300.347 353.383 299.195 351.702 301.586 346.472Z'
  },
  {
    id: 4,
    name: 'Kreis 4',
    d: 'M354.388 327.957C353.938 323.3 359.18 322.367 362.077 320.494C364.775 318.754 366.287 314.97 369.249 314.42C373.06 313.719 378.346 317.993 378.968 322.049C379.583 326.07 374.784 331.221 371.639 334.843C369.457 337.329 364.039 336.866 362.745 333.577C361.345 330.023 354.388 329.995 354.388 327.957Z'
  },
  {
    id: 5,
    name: 'Kreis 5',
    d: 'M301.758 286.405C306.171 285.691 312.463 289.616 316.587 293.096C321.66 297.376 324.211 307.65 324.412 314.111C324.534 317.983 325.172 323.03 321.576 325.203C317.172 327.866 308.931 328.242 307.824 324.345C306.688 320.367 307.14 314.503 305.275 310.892C303.722 307.93 298.488 306.826 298.407 302.893C298.339 299.721 300.009 292.111 301.758 286.405Z'
  },
  {
    id: 6,
    name: 'Kreis 6',
    d: 'M376.803 242.474C382.339 243.032 390.284 248.507 393.496 251.987C397.137 255.991 395.759 262.738 394.556 267.198C393.31 271.841 389.958 278.79 386.46 282.065C382.733 285.551 378.418 286.003 372.989 283.885C368.787 282.212 370.745 275.685 374.158 273.49C376.806 271.814 379.309 270.673 375.395 265.513C372.179 261.372 368.245 256.01 369.408 252.297C370.751 248.016 373.336 242.279 376.803 242.474Z'
  },
  {
    id: 7,
    name: 'Kreis 7',
    d: 'M401.669 259.574C404.889 263.462 409.356 265.184 413.495 266.329C417.733 267.503 420.377 270.593 421.591 274.267C423.065 278.655 420.643 283.254 418.47 287.049C416.158 291.08 413.142 292.67 410.175 293.647C407.392 294.565 402.877 292.6 400.914 290.234C399.211 288.221 401.735 283.056 401.228 279.767C400.64 275.983 398.419 273.033 393.881 271.98C389.763 270.978 392.855 267.867 396.568 266.668C399.383 265.661 399.558 263.558 401.669 259.574Z'
  },
  {
    id: 8,
    name: 'Kreis 8',
    d: 'M420.822 302.29C421.785 305.864 423.32 309.828 419.884 312.913C417.021 315.474 408.268 314.636 406.437 312.065C404.509 309.372 409.169 302.752 410.721 300.494C413.016 297.11 416.013 295.71 418.452 297.105C420.9 298.505 421.322 300.328 420.822 302.29Z'
  },
  {
    id: 9,
    name: 'Kreis 9',
    d: 'M274.099 314.682C277.432 317.974 273.645 324.114 276.289 328.692C278.272 331.938 283.537 333.775 285.483 335.609C287.328 337.345 288.72 340.098 291.266 340.343C294.012 340.61 298.166 335.936 297.873 333.033C297.663 330.943 293.858 328.082 292.515 325.366C291.104 322.511 289.958 318.246 289.741 315.228C289.554 312.631 292.008 309.601 291.362 307.562C290.272 304.029 288.513 301.226 283.313 300.886C279.208 300.596 275.846 310.613 274.099 314.682Z'
  },
  {
    id: 10,
    name: 'Kreis 10',
    d: 'M297.809 259.549C302.009 262.085 299.979 267.965 301.052 272.304C302.23 277.067 307.883 280.446 309.758 284.08C311.538 287.567 309.482 293.947 305.856 298.19C303.016 301.723 297.954 301.534 295.353 300.731C292.082 299.723 294.303 289.912 294.537 285.111C294.758 280.625 292.683 275.266 292.683 270.373C292.683 265.766 293.496 255.392 297.809 259.549Z'
  },
  {
    id: 11,
    name: 'Kreis 11',
    d: 'M310.844 209.544C320.121 212.979 329.837 213.683 337.906 217.855C346.999 222.656 356.56 237.463 355.355 246.668C354.569 252.654 346.431 247.525 343.135 244.712C339.45 241.599 333.385 236.687 328.734 231.116C324.385 225.93 315.772 224.056 311.251 220.38C308.109 217.759 307.274 212.722 310.844 209.544Z'
  },
  {
    id: 12,
    name: 'Kreis 12',
    d: 'M393.321 224.149C398.623 225.203 405.075 230.695 405.256 235.079C405.428 239.162 400.317 242.139 397.81 243.989C394.068 246.871 394.097 252.544 392.431 256.539C390.468 261.118 385.469 259.143 383.093 255.611C380.46 251.664 380.979 244.072 384.746 242.065C387.639 240.544 389.036 236.02 389.036 233.138C389.036 229.06 390.434 223.46 393.321 224.149Z'
  }
];

// Centroid positions for each label over its "Kreis"
const kreisCentroids = [
  { id: 1, x: 350, y: 260 },
  { id: 2, x: 370, y: 304 },
  { id: 3, x: 326, y: 355 },
  { id: 4, x: 366, y: 327 },
  { id: 5, x: 315, y: 310 },
  { id: 6, x: 380, y: 269 },
  { id: 7, x: 415, y: 275 },
  { id: 8, x: 415, y: 312 },
  { id: 9, x: 287, y: 325 },
  { id: 10, x: 305, y: 273 },
  { id: 11, x: 334, y: 223 },
  { id: 12, x: 393, y: 236 }
];

const ZurichMap = () => {
  const navigate = useNavigate();

  const handleDistrictClick = (kreis: { id: number; name: string }) => {
    navigate('/order', { state: { selectedDistrict: kreis.id } });
  };

  return (
    <div className="relative w-full max-w-2xl mx-auto select-none">
      {/* Zurich Kreis SVG map (custom-drawn, clickable Kreise) */}
      <svg
        viewBox="250 180 230 170"
        className="w-full h-auto"
        xmlns="http://www.w3.org/2000/svg"
      >
        {/* District shapes */}
        {kreisFeatures.map((feature) => (
          <g key={feature.id}>
            <path
              d={feature.d}
              fill="#fff"
              stroke="#1D557A"
              strokeWidth={2.5}
              className="transition-colors duration-200 hover:fill-brings-primary/10 cursor-pointer"
              onClick={() => handleDistrictClick(feature)}
            />
          </g>
        ))}
        {/* Kreise labels */}
        {kreisCentroids.map((c, idx) => (
          <text
            key={c.id}
            x={c.x}
            y={c.y}
            textAnchor="middle"
            alignmentBaseline="central"
            fontSize="18"
            fontWeight="bold"
            fill="#1D557A"
            pointerEvents="none"
            style={{ userSelect: "none" }}
          >
            {c.id}
          </text>
        ))}
      </svg>
    </div>
  );
};

export default ZurichMap;
